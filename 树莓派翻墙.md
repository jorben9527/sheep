1. 下载正确的 Mihomo 核心 (ARM64)
```bash
# 从 SourceForge 镜像下载 Linux ARM64 核心 (v1.19.16)
# 文件名是 mihomo-linux-arm64-v1.19.16.gz
wget https://sourceforge.net/projects/mihomo.mirror/files/v1.19.16/mihomo-linux-arm64-v1.19.16.gz
```
2. 解压、重命名和赋予权限
```bash
# 步骤 2: 解压
gunzip mihomo-linux-arm64-v1.19.16.gz

# 步骤 3: 重命名并添加执行权限 (重命名为 mihomo)
mv mihomo-linux-arm64-v1.19.16 mihomo
chmod +x mihomo

# 步骤 4: 移动到系统路径
sudo mv mihomo /usr/local/bin/
```

3. 配置和运行 Clash
```bash
# 步骤 5: 创建配置目录 (如果之前没有成功)
mkdir -p ~/.config/clash

# 步骤 6: 下载配置文件（请替换 "你的订阅链接" 为实际的 Clash 订阅地址）
wget -O ~/.config/clash/config.yaml "YAML 文件链接"
#要通过网站转换成clash

# 步骤 7: 运行 Mihomo 核心
mihomo -d ~/.config/clash
```

**注意： 运行 Mihomo 后，终端会保持占用状态。您需要打开另一个终端窗口或标签页来执行后续的下载命令。**

 这里出现了意外 `mihomo -d ~/.config/clash`时 mihomo 核心在尝试下载 GeoIP 数据库时超时失败了，这是由于您的树莓派直连到 MMDB 下载服务器的网络连接质量太差或被阻止。  

 - 解决方法：手动下载 MMDB 文件  
由于核心在启动时无法使用代理来下载自身的依赖文件，我们需要手动下载。
下载链接： 
```bash
https://github.com/MetaCubeX/meta-rules-dat/releases/latest/download/Country.mmdb
```
并放置到正确的配置目录下。
```Bash
# 目标路径：~/.config/clash/
/home/jorben/.config/clash/
```

4. 在新终端窗口中设置代理环境变量
```bash
# 设置 HTTP 和 HTTPS 代理
export http_proxy=http://127.0.0.1:7890
export https_proxy=http://127.0.0.1:7890

# 设置 ALL_PROXY (使用 SOCKS5 端口)
export ALL_PROXY=socks5://127.0.0.1:7891
```

5. 
Clash/Mihomo 后续使用标准流程
- 步骤一：启动 Mihomo 核心 (Daemon)
在您需要使用代理功能时，首先要启动 Mihomo 核心。核心启动后会持续运行，并监听代理端口。

打开终端（这是 Mihomo 运行的主要终端）。

运行核心：
```Bash
mihomo -d ~/.config/clash
```
提示： 核心会占用此终端窗口。您需要看到 HTTP proxy listening at: [::]:7890 等端口信息，确认启动成功。

- 步骤二：设置代理环境变量 (在新的终端)
Mihomo 启动后，您需要告诉其他应用程序（如 wget、apt、curl 等）使用它提供的代理服务。这需要在您执行命令的每个新的终端窗口中设置。

打开一个新的终端窗口或标签页（这是您进行下载或访问的工作终端）。

设置代理环境变量：

```Bash
export http_proxy=http://127.0.0.1:7890
export https_proxy=http://127.0.0.1:7890
export ALL_PROXY=socks5://127.0.0.1:7891
```
注意： 如果您关闭了此工作终端，下次打开新终端时需要重新设置这些环境变量。

- 步骤三：执行需要代理的命令
在设置了代理的环境下，您可以正常执行任何需要国际加速的命令，例如：

下载文件：
```Bash

wget [需要加速的链接]
升级或安装软件（例如 Kitware 仓库）：
```
```Bash

sudo apt update
sudo apt install cmake
```
- 步骤四：清理和停止 (完成后)
当您完成所有需要代理的操作后，务必清理环境变量，以避免影响本地网络访问，并停止 Mihomo 核心。

清理环境变量（在工作终端）：

```Bash

unset http_proxy
unset https_proxy
unset ALL_PROXY
```
停止 Mihomo 核心（在步骤一的终端）：

回到启动 Mihomo 的那个终端窗口。

按下 Ctrl + C 即可停止核心。